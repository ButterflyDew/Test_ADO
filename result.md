#### 使用方法

1. 编译 test/Compare.mk
2. 运行编译出来的 CompareTest，传入参数为 `usage: CompareTest <seed> <graph-name> <graph-type> <qry-number> <K>`

#### 理论[2005]

构建时间 $O(kmn^{\frac 1 k})$，空间  $O(kn^{1+\frac 1 k})$，单组查询 $O(k)$，近似比 $2k+1$，以下实验选取了 $k=3$.

实际上实现因为斐波那契堆常数太大选取了优先队列，hash过程选取了 unordered_map 常数也比较大。

#### 部分结果
| 测试数据     | n/m                  | HL_Build_Time(s) | HL_Size       | ADO_Build_Time(s) | ADO_Size    | Average_Ratio |
| ------------ | -------------------- | ---------------- | ------------- | ----------------- | ----------- | ------------- |
| OpenCyc_UW   | 61,382/157,683       | 1.677            | 2,439,862     | 4.107             | 3,911,948   | 1.467401      |
| OpenCyc_IW   | 61,382/157,683       | 4.458            | 3,826,382     | 6.837             | 6,157,046   | 1.463932      |
| Mondial_UW   | 37,303/111,740       | 0.589            | 1,799,100     | 1.455             | 1,581,203   | 1.683113      |
| Mondial_IW   | 3,7303/111,740       | 1.756            | 2,342,685     | 2.193             | 2,277,640   | 1.720184      |
| Toronto_UW   | 46,073/68,353        | 5.131            | 7,444,006     | 4.438             | 4,656,523   | 好像RE了      |
| Toronto_IW   | 46,073/68,353        | 17.119           | 13,228,873    | 4.222             | 4,574,911   | 晚点看看原因  |
| LUBM-50K_UW  | 55,664/166,682       | 13.875           | 6,261,706     | 4.232             | 3,716,064   | 1.614535      |
| LUBM-50K_IW  | 55,664/166,682       | 37.900           | 13,133,460    | 6.288             | 5,142,290   | 1.541081      |
| LUBM-500K_UW | 539,313/1,643,567    | 909.477          | 266,046,803   | 458.319           | 68,829,680  | 1.578178      |
| LUBM-500K_IW | 539,313/1,643,567    | 1435.512         | 299,380,398   | 763.983           | 91,106,477  | 1.540028      |
| YAGO_UW      | 632,308/922,627      | 26.932           | 31,176,169    | 606.135           | 66,865,242  | 1.333870      |
| YAGO_IW      | 632,308/922,627      | 171.076          | 104,019,034   | 1111.912          | 101,322,931 | 1.347869      |
| Dbpedia_UW   | 5,887,296/18,338,731 | 3615.415         | 1,090,584,858 | 还在跑            |             |               |



| 测试数据   | n/m                    | HL_Build_Time(s) | HL_Size       | ADO_Build_Time(s) | ADO_Size      | Average_Ratio |
| ---------- | ---------------------- | ---------------- | ------------- | ----------------- | ------------- | ------------- |
| Toronto_UW | 46,073/68,353          | 4.614            | 7,181,066     | 4.278             | 4,526,095     | 1.280563      |
| Toronto_IW | 46,073/68,353          | 171.077          | 104,019,034   | 1111.913          | 101,322,931   | 1.347869      |
| Dbpedia_UW | 5,887,296/18,338,731   | 3329.994         | 1,090,584,858 | 15361.874         | 1,354,894,159 | 1.416912      |
| Dbpedia_IW | 5,887,296/18,338,731   | 45195.630        | 4,330,681,159 | 33891.818         | 2,437,874,978 | 1.411023      |
| LUBM-5M_UW | 4,824,109/14,703,746   | 6335.806         | 1,765,802,470 | 9836.667          | 1,119,987,040 | 1.614833      |
| LUBM-5M_IW | 跑错了不小心删掉了。。 |                  |               |                   |               |               |
|            |                        |                  |               |                   |               |               |
|            |                        |                  |               |                   |               |               |
|            |                        |                  |               |                   |               |               |
|            |                        |                  |               |                   |               |               |
|            |                        |                  |               |                   |               |               |
|            |                        |                  |               |                   |               |               |
|            |                        |                  |               |                   |               |               |



---

之前每次跑 dijk 的时候重新初始化了数组，下面是采取谁污染谁治理策略的结果。

| 测试数据     | n/m                  | HL_Build_Time(s) | HL_Size       | ADO_Build_Time(s) | ADO_Size      | Average_Ratio |
| ------------ | -------------------- | ---------------- | ------------- | ----------------- | ------------- | ------------- |
| OpenCyc_UW   | 61,382/157,683       | **1.534**        | 2,439,862     | 3.332             | 4,115,122     | 1.529229      |
| OpenCyc_IW   | 61,382/157,683       | **4.409**        | 3,826,382     | 6.719             | 7,078,349     | 1.468260      |
| LUBM-500K_UW | 539,313/1,643,567    | 1237.737         | 266,046,803   | **100.341**       | 64,883,664    | 1.689669      |
| LUBM-500K_IW | 539,313/1,643,567    | 1392.566         | 299,380,398   | **188.774**       | 118,146,065   | 1.643403      |
| YAGO_UW      | 632,308/922,627      | **27.425**       | 31,176,169    | 83.170            | 75,893,796    | 1.337018      |
| YAGO_IW      | 632,308/922,627      | 171.170          | 104,019,034   | **102.096**       | 82,192,674    | 1.337722      |
| Dbpedia_UW   | 5,887,296/18,338,731 | 3345.434         | 1,090,584,858 | **1724.346**      | 1,322,042,771 | 1.437402      |
| Dbpedia_IW   | 5,887,296/18,338,731 | 44828.782        | 4,330,681,159 | **5047.440**      | 2,451,092,566 | 1.416105      |
| LUBM-5M_UW   | 4,824,109/14,703,746 | 6387.719         | 1,765,802,470 | **1445.321**      | 1,067,358,396 | 1.625216      |
|              |                      |                  |               |                   |               |               |
|              |                      |                  |               |                   |               |               |
|              |                      |                  |               |                   |               |               |
|              |                      |                  |               |                   |               |               |